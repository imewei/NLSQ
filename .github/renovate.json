{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended",
    ":dependencyDashboard",
    ":semanticCommits",
    ":automergeDigest",
    ":automergeBranch"
  ],
  "schedule": ["after 10pm every weekday", "before 5am every weekday"],
  "timezone": "America/Chicago",
  "labels": ["dependencies", "automated"],
  "assignees": ["@imewei"],
  "vulnerabilityAlerts": {
    "labels": ["security"],
    "automerge": true,
    "schedule": ["at any time"]
  },
  "python": {
    "enabled": true
  },
  "packageRules": [
    {
      "description": "Auto-merge dev dependencies (non-breaking)",
      "matchDepTypes": ["dev"],
      "matchUpdateTypes": ["patch", "minor"],
      "automerge": true,
      "automergeType": "pr"
    },
    {
      "description": "Group JAX ecosystem updates",
      "matchPackagePatterns": ["^jax"],
      "groupName": "JAX ecosystem",
      "schedule": ["before 5am on monday"]
    },
    {
      "description": "Group testing tools",
      "matchPackagePatterns": ["^pytest", "^hypothesis", "^coverage"],
      "groupName": "Testing tools",
      "automerge": true
    },
    {
      "description": "Group documentation tools",
      "matchPackagePatterns": ["^sphinx", "^myst", "^furo"],
      "groupName": "Documentation tools",
      "automerge": true
    },
    {
      "description": "Group code quality tools",
      "matchPackagePatterns": ["^ruff", "^mypy", "^pre-commit"],
      "groupName": "Code quality tools",
      "automerge": true
    },
    {
      "description": "Security updates - highest priority",
      "matchUpdateTypes": ["patch"],
      "matchCurrentVersion": "!/^0/",
      "groupName": "Security patches",
      "automerge": true,
      "schedule": ["at any time"],
      "prPriority": 10
    },
    {
      "description": "Major updates require manual review",
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "schedule": ["before 5am on the first day of the month"],
      "labels": ["major-update", "needs-review"]
    },
    {
      "description": "NumPy and SciPy - critical scientific dependencies",
      "matchPackageNames": ["numpy", "scipy"],
      "automerge": false,
      "labels": ["critical-dependency"],
      "reviewers": ["@imewei"]
    }
  ],
  "prConcurrentLimit": 5,
  "prHourlyLimit": 2,
  "branchPrefix": "renovate/",
  "commitMessagePrefix": "chore(deps):",
  "commitMessageAction": "update",
  "commitMessageTopic": "{{depName}}",
  "commitMessageExtra": "to {{newValue}}",
  "prBodyTemplate": "This PR updates {{{depName}}} from `{{{currentValue}}}` to `{{{newValue}}}`.\n\n### Release Notes\n{{{changelog}}}\n\n### Configuration\nðŸ“… **Schedule**: {{{schedule}}}\nðŸš¦ **Automerge**: {{{automerge}}}\nâ™» **Rebasing**: {{{rebaseRequested}}}\nðŸ”§ **Ignore**: Add `@renovate ignore this dependency` to close and ignore\n\n---\n\n*This PR was generated by [Renovate Bot](https://github.com/renovatebot/renovate).*"
}
